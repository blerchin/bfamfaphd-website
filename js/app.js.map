{"version":3,"file":"js/app.js","sources":["app/javascripts/fineArts.js","app/javascripts/mailchimp.js","app/javascripts/scroll.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC7hBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC9LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["$(function() {\n\nvar container = '#bfamfaphd_degrees_per_year';\nif($(container).length === 0 ){\n    return false\n}\nd3.json(window.globals.TEMPLATE_URL + \"/fineArts.json\", function(error, data) {\n\n// console.log(data[0].BA);\n\nvar maxTotal = 91222;\nvar margin = 100;\nvar width = $(container).width();\nvar height = 550;\nvar maStroke = 10;\nvar baStroke = 10;\nvar blue = \"#000099\";\nvar gold = \"#A89358\";\nvar lmargin = 80;\nvar axisHeight = 30;\n// var lastOne;\n\nvar graphView = d3.select(container).append(\"svg\")\n// var graphView = d3.select(\"#bars\").append(\"svg\")\n// .attr(\"width\", width)\n// .attr(\"height\", height)\n  // .attr({\n  //   \"width\": \"100%\",\n  //   \"height\": \"100%\"\n  // });\n  // .attr(\"viewBox\", \"0 0 \" + width + \" \" + height )\n  // .attr(\"preserveAspectRatio\", \"xMinYMin\");\n //.attr(\"pointer-events\", \"all\")\n .attr(\"class\",\"graph\")\n.attr(\"width\", width)\n.attr(\"height\", height);\n\nvar alongWidth = d3.scale.linear()\n\t.domain([0, 25])\n\t.range([lmargin, width-lmargin]);\n\nvar alltheway = d3.scale.linear()\n\t.domain([0, 25])\n\t.range([width+margin/2, margin]);\n\nvar alongHeight = d3.scale.linear()\n\t.domain([0, 25])\n\t.range([height, margin/5]);\n\nvar mapOpacity = d3.scale.linear()\n\t.domain([0, 25])\n\t.range([.1, .1]);\n\nvar rectScale = d3.scale.linear()\n\t.domain([0, maxTotal])\n\t.range([10, height-margin]);\n\n\n\nvar rectBA = graphView.selectAll(\"rect\")\n.data(function(d){\n\treturn data;\n})\n.enter().append(\"rect\")\n.attr(\"class\", \"rectBA\")\n.attr(\"x\", function(d,i){\n\treturn alongWidth(i);\n})\n.attr(\"y\", function(d,i){\n\tvar dnow = rectScale(d.BA);\n\tvar firstOne = rectScale(data[0].BA)\n\tif (i==0){\n\t\treturn height-dnow;\n\t}\n\tif (i>0){\n\tvar diff = dnow-rectScale(data[i-1].BA);\n\tvar lastOne = rectScale(data[i-1].BA);\n\t\tif (diff>0){\n\t\t\treturn height-lastOne-diff;\t\n\t\t}\n\t\tif (diff<0){\n\t\t\tvar yIs = height-lastOne+(diff*-1);\n\t\t\treturn yIs;\n\t\t}\n\t}\n})\n.attr(\"width\", function(d,i){\n\t// return alltheway(i);\n\treturn (width-lmargin*2)/25;\n})\n.attr(\"height\", function(d,i){\n\tvar dnow = rectScale(d.BA);\n\tvar firstOne = rectScale(data[0].BA);\n\tif (i==0){\n\t\treturn 3;\n\t}\n\tif (i>0){\n\tvar diff = dnow-rectScale(data[i-1].BA);\n\t\tif (diff>0){\n\t\t\treturn diff;\n\t\t\t\t// return (diff);\t\n\t\t}\n\t\tif (diff<0){\n\t\t\treturn (diff)*-1;\n\t\t}\n\t\tif (diff==0){\n\t\t\treturn 3;\n\t\t}\n\t}\n})\n.attr(\"fill\", blue)\n.attr(\"opacity\", function(d,i){\n\t// return mapOpacity(i);\n\treturn 1;\n});\n\n\n\n\n\n\n\nvar lineBeforeBA = graphView.selectAll(\"line\")\n.data(function(d){\n\treturn data;\n})\n.enter().append(\"line\")\n.attr(\"class\", \"lineall\")\n.attr(\"x1\", function(d,i){\n\treturn alongWidth(i);\n})\n.attr(\"y1\", function(d,i){\n\tdnow = rectScale(d.BA);\n\treturn height;\n})\n.attr(\"x2\", function(d,i){\n\treturn alongWidth(i);\n})\n.attr(\"y2\", function(d,i){\n\tvar dnow = rectScale(d.BA);\n\tif (i<26){\n\treturn height-dnow;\t\t\n\t}\n\telse {\n\t\treturn height-rectScale(data[25].BA);\n\t}\n})\n.attr(\"fill\", \"none\")\n.attr(\"stroke\", \"gray\")\n.attr(\"stroke-weight\", .001)\n.attr(\"stroke-dasharray\", \"1,10\")\n.attr(\"stroke-opacity\", function(d,i){\n\t// return mapOpacity(i);\n\t.01;\n});\n\n\n\n\n\n\nvar rectMA = graphView.selectAll(\"rectBA rect\").select(\"rect ma\")\n.data(function(d){\n\treturn data;\n})\n.enter().append(\"rect\")\n.attr(\"class\", \"masters\")\n.attr(\"x\", function(d,i){\n\treturn alongWidth(i);\n})\n.attr(\"y\", function(d,i){\n\tvar dnow = rectScale(d.MA);\n\tvar firstOne = rectScale(data[0].MA)\n\tif (i==0){\n\t\treturn height-dnow;\n\t}\n\tif (i>0){\n\tvar lastOne = Math.round(rectScale(data[i-1].MA));\n\tvar diff = Math.round(dnow-lastOne);\n\t\t\t// return height-lastOne-diff;\t\n\t\tif (diff>0){\n\t\t\tvar yIs = height-lastOne-diff;\n\t\t\t\treturn yIs;\n\t\t\t// return height-lastOne-diff;\t\n\t\t}\n\t\tif (diff<0) {\n\t\t\tvar yIs = height-lastOne+(diff*-1);\n\t\t\t\treturn yIs;\n\t\t\t// return height-lastOne+(diff*-1);\n\t\t}\n\n\t\tif (diff==0){\n\t\t\tvar yIs = height-dnow;\n\t\t\t\treturn yIs;\n\t\t\t}\n\t}\n})\n.attr(\"width\", (width-lmargin*2)/25)\n.attr(\"height\", function(d,i){\n\tvar dnow = rectScale(d.MA);\n\tvar firstOne = rectScale(data[0].MA);\n\tif (i==0){\n\t\treturn 3;\n\t}\n\tif (i>0){\n\tvar diff = dnow-rectScale(data[i-1].MA);\n\t\tif (diff>1 && d.Year!=1999){\n\t\t\treturn diff;\n\t\t}\n\t\tif (diff>1 && d.Year==1999){\n\t\t\treturn diff;\n\t\t}\n\t\tif (diff<0 && d.Year!=1999){\n\t\t\treturn (diff)*-1+1;\n\t\t}\n\t\tif (diff<0 && d.Year==1999){\n\t\t\treturn (1);\n\t\t}\n\t\tif (diff>0 && diff<1){\n\t\t\treturn 1;\n\t\t}\n\t\tif (diff==0){\n\t\t\treturn 3;\n\t\t}\n\t}\n})\n.attr(\"fill\", \"gray\")\n.attr(\"opacity\", function(d,i){\n\t// return mapOpacity(i)\n\treturn 1;\n});\n\n\n\n\n\n\n\n\n\n\nvar rectPD = graphView.selectAll(\"rectBA rect\").select(\"rect pd\")\n.data(function(d){\n\treturn data;\n})\n.enter().append(\"rect\")\n.attr(\"class\", \"doctors\")\n.attr(\"x\", function(d,i){\n\treturn alongWidth(i);\n})\n.attr(\"y\", function(d,i){\n\tvar dnow = rectScale(d.PhD);\n\tvar firstOne = rectScale(data[0].PhD)\n\tif (i==0){\n\t\treturn height-dnow;\n\t}\n\tif (i>0){\n\tvar diff = Math.round(dnow-rectScale(data[i-1].PhD));\n\t// console.log(diff)\n\tvar lastOne = rectScale(data[i-1].PhD);\n\n\t\tif (diff>0){\n\t\t\treturn height-lastOne-diff;\t\n\t\t}\n\t\tif (diff<0) {\n\t\t\tvar yIs = height-lastOne+(diff*-1);\n\t\t\treturn yIs;\n\t\t\t// return height-lastOne-diff;\t\n\t\t}\n\t\tif (diff==0){\n\t\t\treturn height-dnow;\n\t\t}\n\t}\n})\n\t// return height-rectScale(d.PhD);\n.attr(\"width\", function(d,i){\n\t// return width-lmargin*2/26lmargin*2/26;\n\treturn (width-lmargin*2)/25;\n})\n.attr(\"height\", function(d,i){\n\t// return rectScale(d.PhD);\n\tdnow = rectScale(d.PhD);\n\tvar firstOne = rectScale(data[0].PhD);\n\tif (i==0){\n\t\treturn 3;\n\t}\n\tif (i>0){\n    \tvar diff = dnow-rectScale(data[i-1].PhD);\n\t\tif (diff>1){\n\t\t\treturn diff;\n\t\t}\n\t\tif (diff<0){\n\t\t\treturn (diff)*-1+1;\n\t\t}\n\t\tif (diff>0 && diff<1){\n\t\t\treturn 1;\n\t\t}\n\t\tif (diff==0){\n\t\t\treturn 3;\n\t\t}\n\t}\n})\n// .attr(\"stroke\", \"white\")\n// .attr(\"stroke-width\", \"1\")\n.attr(\"fill\", \"orange\")\n\n// .attr(\"stroke-width\",baStroke)\n.attr(\"opacity\", function(d,i){\n\t// return mapOpacity(i);\n\treturn 1;\n});\n\n\n\n\n\n\n\n\n  $('.masters').tipsy({ \n        gravity: 'nw', \n        // gravity: $.fn.tipsy.autoNS,\n        html: true, \n        //fade: true,\n        title: function() {\n          var d = this.__data__;\n\t\tvar newNum = Math.round((d.cumuMA) / 1000);\n\t\tvar niceNum = numberWithCommas(newNum)+\"k\";\n      \treturn d.Year+\": \"+numberWithCommas(d.MA)+\" MAs\"+\", Since 1987: \"+niceNum;         \n        }\n      });\n// Math.round((d.BA) / 1000)\n\n  $('.doctors').tipsy({ \n        gravity: 'nw', \n        // gravity: $.fn.tipsy.autoNS,\n        html: true, \n        //fade: true,\n        title: function() {\n          var d = this.__data__;\n       \t\tvar newNum = Math.round((d.cumuPhD) / 1000);\n\t\t\tvar niceNum = numberWithCommas(newNum)+\"k\";\n\t\t\t          return d.Year+\": \"+numberWithCommas(d.PhD)+\" PhDs\"+\", Since 1987: \"+niceNum;         \n        }\n      });\n\n\n  $('.rectBA').tipsy({ \n gravity: 'nw',\n        // gravity: $.fn.tipsy.autoNS,\n        html: true,\n        //fade: true,\n        title: function() {\n          var d = this.__data__;\n          var newNum = Math.round((d.cumuBA) / 1000);\n\n          if (newNum>1000){\n              var newMil = Math.round((d.cumuBA) / 1000000);\n              if (newMil==1){\n                      var niceMil = numberWithCommas(newMil)+\"M\";\n                      return d.Year+\": \"+numberWithCommas(d.BA)+\" BFAs\"+\", Since 1987: \"+niceMil;\n              }\n              if (newMil>1){\n            var niceMil = \"1.5M\";\n                      return d.Year+\": \"+numberWithCommas(d.BA)+\" BFAs\"+\", Since 1987: \"+niceMil;\n              }\n\n          }\n          if (newNum<1000){\n            var niceNum = numberWithCommas(newNum)+\"k\";\n          return d.Year+\": \"+numberWithCommas(d.BA)+\" BFAs\"+\", Since 1987: \"+niceNum;\n          }\n\n      }\n      });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//Start paste\n\nvar text = graphView.selectAll(\"text\")\n.data(function(d){\n\treturn data;\n})\n.enter().append(\"text\")\n.attr(\"class\", \"textBA\")\n.attr(\"x\", function(d,i){\n\tif (d.Year == 1992 || d.Year == 1987 || d.Year == 2002 ||d.Year == 2012 || d.Year == 2004){\n\treturn alongWidth(i)+2;\n}\n// \tif (d.Year == 2012){\n// \treturn alongWidth(i)-5;\n// }\n})\n.attr(\"y\", function(d,i){\n\tif (d.Year == 1992 || d.Year == 1987 || d.Year == 2002 || d.Year == 2012 || d.Year == 2004){\n\treturn height-rectScale(d.BA)-1;\n\t}\n\telse {\n\t\treturn -height;\n\t}\n})\n.text(function(d){\n\tif (d.Year == 1992 || d.Year == 1987 || d.Year == 2002 || d.Year == 2012 || d.Year == 2004){\n\t\tvar newNum = Math.round((d.BA) / 1000);\n\treturn numberWithCommas(newNum)+\"k\";\n}\n})\n\n\nvar textMA = graphView.selectAll(\"textBA text\").select(\"text ma\")\n.data(function(d){\n\treturn data;\n})\n.enter().append(\"text\")\n.attr(\"class\", \"yAxis\")\n.attr(\"x\", function(d,i){\n\tif (d.Year == 1992 || d.Year == 1987 || d.Year == 2002 || d.Year == 2012){\n\treturn alongWidth(i)+2;\n}\n// \tif (d.Year == 2012){\n// \treturn alongWidth(i)-5;\n// }\n})\n.attr(\"y\", function(d,i){\n\tif (d.Year == 1992 || d.Year == 1987 || d.Year == 2002 || d.Year == 2012){\n\treturn height-rectScale(d.MA)-1;\n\t}\n\t// if (d.Year == 2012){\n\t// return height-rectScale(d.MA)-10;\n\t// }\n\telse {\n\t\treturn -height;\n\t}\n})\n.text(function(d){\n\tif (d.Year == 1987 || d.Year == 2012){\n\t\tvar newNum = Math.round((d.MA) / 1000);\n\treturn numberWithCommas(newNum)+\"k\";\n}\n})\n\nvar textPD = graphView.selectAll(\"textBA text\").select(\"text pd\")\n.data(function(d){\n\treturn data;\n})\n.enter().append(\"text\")\n.attr(\"class\", \"labels\")\n.attr(\"x\", function(d,i){\n\tif (d.Year == 1987 || d.Year == 2012){\n\treturn alongWidth(i)+2;\n\t}\n})\n.attr(\"y\", function(d,i){\n\tif (d.Year == 1987 || d.Year == 2012){\n\treturn height-rectScale(d.PhD);\n\t}\n\t// else {\n\t// \treturn -height;\n\t// }\n})\n.text(function(d){\n\tif (d.Year == 1987 || d.Year==2012){\n\t\tvar newNum = Math.round((d.PhD)/1000);\n\treturn numberWithCommas(newNum)+\"k\";\n}\n});\n\nfunction numberWithCommas(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\n\nvar xaxisy = d3.scale.ordinal()\n    .domain([1987,\n1988,\n1989,\n1990,\n1991,\n1992,\n1993,\n1994,\n1995,\n1996,\n1997,\n1998,\n1999,\n2000,\n2001,\n2002,\n2003,\n2004,\n2005,\n2006,\n2007,\n2008,\n2009,\n2010,\n2011,\n2012, \"...\"])\n    .rangePoints([lmargin, width-30]);\n\nvar xAxis = d3.svg.axis()\n\t.scale(xaxisy)\n\t.orient(\"bottom\");\n\nvar svg = d3.select(container).append(\"svg\")\n  // .attr({\n  //   \"width\": \"100%\",\n  //   \"height\": \"100%\"\n  // })\n  // .attr(\"viewBox\", \"0 0 \" + width + \" \" + height )\n  // .attr(\"preserveAspectRatio\", \"xMinYMin\")\n\n\n\t.attr(\"width\", width) \n\t.attr(\"height\", axisHeight) //axis bottom\n\t.attr(\"class\", \"ind-axis\")\n\t.append(\"g\")\n\t.attr(\"transform\", \"translate(\" + 0 +\",\"+0+\")\");\n\nsvg.append(\"g\")\n\t.attr(\"class\", \"x axis\")\n\t.call(xAxis);\n\n\n})\n})\n","/*\nvar fnames = new Array();var ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[3]='MMERGE3';ftypes[3]='text';fnames[1]='MMERGE1';ftypes[1]='zip';\ntry {\n    var jqueryLoaded=jQuery;\n    jqueryLoaded=true;\n} catch(err) {\n    var jqueryLoaded=false;\n}\nvar head= document.getElementsByTagName('head')[0];\nif (!jqueryLoaded) {\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = '//ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js';\n    head.appendChild(script);\n    if (script.readyState && script.onload!==null){\n        script.onreadystatechange= function () {\n              if (this.readyState == 'complete') mce_preload_check();\n        }    \n    }\n}\n\nvar err_style = '';\ntry{\n    err_style = mc_custom_error_style;\n} catch(e){\n    err_style = '#mc_embed_signup input.mce_inline_error{border-color:#6B0505;} #mc_embed_signup div.mce_inline_error{margin: 0 0 1em 0; padding: 5px 10px; background-color:#6B0505; font-weight: bold; z-index: 1; color:#fff;}';\n}\nvar head= document.getElementsByTagName('head')[0];\nvar style= document.createElement('style');\nstyle.type= 'text/css';\nif (style.styleSheet) {\n  style.styleSheet.cssText = err_style;\n} else {\n  style.appendChild(document.createTextNode(err_style));\n}\nhead.appendChild(style);\nsetTimeout('mce_preload_check();', 250);\n\nvar mce_preload_checks = 0;\nfunction mce_preload_check(){\n    if (mce_preload_checks>40) return;\n    mce_preload_checks++;\n    try {\n        var jqueryLoaded=jQuery;\n    } catch(err) {\n        setTimeout('mce_preload_check();', 250);\n        return;\n    }\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = 'http://downloads.mailchimp.com/js/jquery.form-n-validate.js';\n    head.appendChild(script);\n    try {\n        var validatorLoaded=jQuery(\"#fake-form\").validate({});\n    } catch(err) {\n        setTimeout('mce_preload_check();', 250);\n        return;\n    }\n    mce_init_form();\n}\nfunction mce_init_form(){\n    jQuery(document).ready( function($) {\n      var options = { errorClass: 'alert alert-warning', errorElement: 'div', onkeyup: function(){}, onfocusout:function(){}, onblur:function(){}  };\n      var mce_validator = $(\"#mc-embedded-subscribe-form\").validate(options);\n      $(\"#mc-embedded-subscribe-form\").unbind('submit');//remove the validator so we can get into beforeSubmit on the ajaxform, which then calls the validator\n      options = { url: 'http://bfamfaphd.us8.list-manage.com/subscribe/post-json?u=86adc32179584ba8d5862e0de&id=a65c9b0ed6&c=?', type: 'GET', dataType: 'json', contentType: \"application/json; charset=utf-8\",\n                    beforeSubmit: function(){\n                        $('#mce_tmp_error_msg').remove();\n                        $('.datefield','#mc_embed_signup').each(\n                            function(){\n                                var txt = 'filled';\n                                var fields = new Array();\n                                var i = 0;\n                                $(':text', this).each(\n                                    function(){\n                                        fields[i] = this;\n                                        i++;\n                                    });\n                                $(':hidden', this).each(\n                                    function(){\n                                        var bday = false;\n                                        if (fields.length == 2){\n                                            bday = true;\n                                            fields[2] = {'value':1970};//trick birthdays into having years\n                                        }\n                                        if ( fields[0].value=='MM' && fields[1].value=='DD' && (fields[2].value=='YYYY' || (bday && fields[2].value==1970) ) ){\n                                            this.value = '';\n                                        } else if ( fields[0].value=='' && fields[1].value=='' && (fields[2].value=='' || (bday && fields[2].value==1970) ) ){\n                                            this.value = '';\n                                        } else {\n                                            if (/\\[day\\]/.test(fields[0].name)){\n                                                this.value = fields[1].value+'/'+fields[0].value+'/'+fields[2].value;                                           \n                                            } else {\n                                                this.value = fields[0].value+'/'+fields[1].value+'/'+fields[2].value;\n                                            }\n                                        }\n                                    });\n                            });\n                        $('.phonefield-us','#mc_embed_signup').each(\n                            function(){\n                                var fields = new Array();\n                                var i = 0;\n                                $(':text', this).each(\n                                    function(){\n                                        fields[i] = this;\n                                        i++;\n                                    });\n                                $(':hidden', this).each(\n                                    function(){\n                                        if ( fields[0].value.length != 3 || fields[1].value.length!=3 || fields[2].value.length!=4 ){\n                                            this.value = '';\n                                        } else {\n                                            this.value = 'filled';\n                                        }\n                                    });\n                            });\n                        return mce_validator.form();\n                    }, \n                    success: mce_success_cb\n                };\n      $('#mc-embedded-subscribe-form').ajaxForm(options);\n      \n      \n    });\n}\nfunction mce_success_cb(resp){\n    $('#mce-success-response').hide();\n    $('#mce-error-response').hide();\n    if (resp.result==\"success\"){\n        $('#mce-'+resp.result+'-response').show();\n        $('#mce-'+resp.result+'-response').html(resp.msg);\n        $('#mc-embedded-subscribe-form').each(function(){\n            this.reset();\n        });\n    } else {\n        var index = -1;\n        var msg;\n        try {\n            var parts = resp.msg.split(' - ',2);\n            if (parts[1]==undefined){\n                msg = resp.msg;\n            } else {\n                i = parseInt(parts[0]);\n                if (i.toString() == parts[0]){\n                    index = parts[0];\n                    msg = parts[1];\n                } else {\n                    index = -1;\n                    msg = resp.msg;\n                }\n            }\n        } catch(e){\n            index = -1;\n            msg = resp.msg;\n        }\n        try{\n            if (index== -1){\n                $('#mce-'+resp.result+'-response').show();\n                $('#mce-'+resp.result+'-response').html(msg);            \n            } else {\n                err_id = 'mce_tmp_error_msg';\n                html = '<div id=\"'+err_id+'\" style=\"'+err_style+'\"> '+msg+'</div>';\n                \n                var input_id = '#mc_embed_signup';\n                var f = $(input_id);\n                if (ftypes[index]=='address'){\n                    input_id = '#mce-'+fnames[index]+'-addr1';\n                    f = $(input_id).parent().parent().get(0);\n                } else if (ftypes[index]=='date'){\n                    input_id = '#mce-'+fnames[index]+'-month';\n                    f = $(input_id).parent().parent().get(0);\n                } else {\n                    input_id = '#mce-'+fnames[index];\n                    f = $().parent(input_id).get(0);\n                }\n                if (f){\n                    $(f).append(html);\n                    $(input_id).focus();\n                } else {\n                    $('#mce-'+resp.result+'-response').show();\n                    $('#mce-'+resp.result+'-response').html(msg);\n                }\n            }\n        } catch(e){\n            $('#mce-'+resp.result+'-response').show();\n            $('#mce-'+resp.result+'-response').html(msg);\n        }\n    }\n}\n*/\n","$(document).ready(function() {\n\n    $('.header ul.navigation').localScroll({\n        offset: {top: -30},\n        hash: true\n    });\n\n});\n"]}